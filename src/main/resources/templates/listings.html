<html xmnls:th="http://www.thymeleaf.org">
<head>

<!--Bootstrap-->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>

<!--ChartsJs -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
</head>

<body style="font-family: Montserrat, sans-serif">
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a href="/dashboard" class="navbar-brand">
        	<img height="90" th:src="@{/images/logo.png}">
        </a>
        <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav">
                <a th:href="@{../dashboard}" class="nav-item nav-link">Dashboard</a>
                <a th:href="@{../dashboard/myListings}" class="nav-item nav-link">My Listings</a>
                <a href="#" class="nav-item nav-link active">Listings</a>
                <a th:href="@{../dashboard/create}" class="nav-item nav-link">Create</a>
                <a th:href="@{../dashboard/userList}" class="nav-item nav-link">User List</a>
            </div>
            <div class="navbar-nav ms-auto">
            	<i class="nav-item nav-link bi bi-bell-fill">
            		<span class="position-absolute start-1 translate-middle p-1 bg-danger border border-light rounded-circle"></span>
            	</i>
            	
            	<div class="dropdown">
            	  <a class="nav-item nav-link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            	  	<i class="bi bi-person-fill"></i>
            	  	
  				  </a>
				  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark">
				    <li><a class="dropdown-item" href="#">My Profile</a></li>
				    <li><a class="dropdown-item" href="#">Settings</a></li>
				    <li><a class="dropdown-item" href="/logout">Logout</a></li>
				  </ul>
				</div>
				
            </div>
        </div>
    </div>
	</nav>
	
	<h3 class="mt-5 mb-5 text-center">Featured Listings</h3>
	
	<div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
			<div class="carousel-inner">
		    	<div class="carousel-item active" data-bs-interval="5000">
		      		<div class="row justify-content-center">
			  			<div class="col-md-4 d-flex align-items-stretch">
			    			<div class="card text-center" style="width: 100%;">
					  			<div class="card-body">
					    			<h5 class="card-title">Listing 1</h5>
					 			</div>
							</div>
		        		</div>
		       			<div class="col-md-4 d-flex align-items-stretch">
		            		<div class="card text-center" style="width: 100%;">
					  			<div class="card-body">
					    			<h5 class="card-title">Listing 2</h5>
					 			</div>
							</div>
		        		</div>
				        <div class="col-md-4 d-flex align-items-stretch">
				        	<div class="card text-center" style="width: 100%;">
							  	<div class="card-body">
							    	<h5 class="card-title">Listing 3</h5>
							 	</div>
							</div>
					    </div>
		    		</div>
	    		</div>
			    <div class="carousel-item" data-bs-interval="5000">
		      		<div class="row justify-content-center">
			  			<div class="col-md-4 d-flex align-items-stretch">
			    			<div class="card text-center" style="width: 100%;">
					  			<div class="card-body">
					    			<h5 class="card-title">Listing 4</h5>
					 			</div>
							</div>
		        		</div>
		       			<div class="col-md-4 d-flex align-items-stretch">
		            		<div class="card text-center" style="width: 100%;">
					  			<div class="card-body">
					    			<h5 class="card-title">Listing 5</h5>
					 			</div>
							</div>
		        		</div>
				        <div class="col-md-4 d-flex align-items-stretch">
				        	<div class="card text-center" style="width: 100%;">
							  	<div class="card-body">
							    	<h5 class="card-title">Listing 6</h5>
							 	</div>
							</div>
					    </div>
		    		</div>
			    </div>
	 	    </div>
			<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			    <span class="visually-hidden">Previous</span>
			</button>
			<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
			    <span class="carousel-control-next-icon" aria-hidden="true"></span>
			    <span class="visually-hidden">Next</span>
			</button>
		</div>
		
		<div class="row justify-content-left">
			<div th:each="listing : ${listings}" class="col-md-3 d-flex align-items-stretch">
		  		<div class="card shadow text-center mt-5" style="width: 100%;">
		       		<img th:src="@{/images/fav.png}" class="card-img-top img-fluid" alt="...">
				  	<div class="card-body">
				    	<h4 class="card-title text-success" th:text="${listing.name}">Listing</h4>
				    	<p class="card-text text-muted" th:text="${listing.description}">Description</p>
				    	<p class="card-text text-muted" th:text="|$${listing.price}|">Price</p>
    					<form action="#" th:action="@{listings}" th:object="${listing}" method="post">
    					    <input type="hidden" class="form-control disabled" th:value="*{id}" name="id">
    						<button class='btn' th:classappend="${listing.user_id == user.id ? 'disabled' : 'btn-success'}" type="submit">Buy Now
    						</button>
    					</form>
				 	</div>
				</div>
			</div>
		</div>

</body>
</html>